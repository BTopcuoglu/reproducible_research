---
layout: presentation
title: Documentation
permalink: /documentation/
---
class: middle center

# Documentation:<br>Write for yourself first

.middle[.center[![You!]({{ site.baseurl }}/assets/images/you.gif)]]

---

class: middle center

# Your single most important collaborator is you, six months from now and current you doesn't have email

---

## Where we're going

* Documentation
* Keep raw data raw
* Data organization as a form of documentation
* Script everything
* Don't repeat yourself (DRY)
* Automation
* Transparency

???

All of these have some aspect of documentation baked into them.

---

## Where have we seen the importance of documentation already?
--

* ORCID provides a universal way to connect to someone
* Data description on FigShare dataset
* R markdown documents from Meadows et al.
* Project description on GitHub
* Project license
* README.md exercise
* Commit messages

---

Compare root README.md files from two projects

---

## Basic documentation

* `README.md` in root of project directory provides a navigation to anyone coming to your project
???
Important to note that every directory can/should have a README.md file that outlines what is in the directory and where it came from
--

* GitHub automatically shows the `README.md` file when you open the repository's webpage
--

* Useful to provide directory structure so newbie knows where everything is (or should be)
--

* Specify software dependencies, versions, and where they should be installed
--

* Give instructions on how someone would enter project or what they should do

---

## Keep raw data raw

* By keeping a raw version of your data you can always start over
--

* Have you ever accidentally sorted a spreadsheet by one column when you meant to sort by all of them?

---

## Data organization as a form of documentation

* Ever see someone's computer desktop and see 1000 files?
  * How efficiently can they access information?
  * What's the likelihood that they get lost? in six months?
  * How likely are they to teach you their "system"?
* Separate directories for code, data, figures, tables, documents makes it very clear where different types of files should be located

???

One way to enforce that raw data stay raw, is to put them into a directory for raw data

---

## Script everything/Don't Repeat Yourself

* Your scripts become the lens that you and others can use to see how you have analyzed your data

--
* Your instructions become better as you become more explicit

--
* If you cannot manually manipulate the raw data then you have to be explicit in how you document your processing of data

--
* Your scripts must be commented to make it easy for you (in six months) and others to understand

---

## Automation

* Automation helps to keep track of the ordering and maintenance of dependencies

--
* If you added more data, how difficult would it be for you to update your analysis? Would you remember all of the steps?

--
* In large and complex analyses, it becomes easy to lose track of where you are in the analysis

--
* Often an analysis will involve multiple steps with several sub-analyses depending on the results of a prior analysis

---

## Transparency

* How well are you going to document your analysis if you know that someone else might look back at what you have done?

--
* By letting others see how and why you have done things, you increase the likelihood that they will build off of what you have done

--
* Science only moves forward when others can build off of our workflows

---

## Best practices for naming directories and files

* NO SPACES in directory or file names
  * `raw_data`, `build_figure_1.R`
  * `RawData`, `BuidFigure1.R`
  * not: `raw data`, `build figure 1.R`
--

* Be descriptive, atomic, and logical
  * `data/raw`, `data/mothur`
  * not: `stuff`, `data_raw`, `data_mothur`

---

## Noble paper on file organization

---

## Compare file organization from two projects

---

## General structure for a microbiome study

```
project
|- README.md        # the top level description of content (this doc)
|- CONTRIBUTING.md  # instructions for how to contribute to your project
|- LICENSE.md       # the license for this project
|- CITATION.md      # instructions on how to cite the project
|
|- submission/
| |- study.Rmd      # executable Rmarkdown for this study, if applicable
| |- study.md       # Markdown (GitHub) version of the *.Rmd file
| |- study.tex      # TeX version of *.Rmd file
| |- study.pdf      # PDF version of *.Rmd file
| |- header.tex     # LaTeX header file to format pdf version of manuscript
| |- references.bib # BibTeX formatted references
| |- XXXX.csl       # csl file to format references for journal XXX
|
|- data             # raw and primary data, are not changed once created
| |- references/    # reference files to be used in analysis
| |- raw/           # raw data, will not be altered
| |- mothur/        # mothur processed data
| +- process/       # cleaned data, will not be altered once created;
|                   # will be committed to repo
|
|- code/            # any code
|
|- results          # all output from workflows and analyses
| |- tables/        # text version of tables to be rendered with kable in R
| |- figures/       # graphs, likely designated for manuscript figures
| +- pictures/      # diagrams, images, and other non-graph graphics
|
|- exploratory/     # exploratory data analysis for study
| |- notebook/      # preliminary analyses
| +- scratch/       # temporary files that can be safely deleted or lost
|
+- Makefile         # executable Makefile for this study, if applicable
```

???

* You are free to do what you want, but keep to the basic priniciples outlined in the Noble paper
* You'll see this again when we discuss the `new_project` repository

---

## Bad project: Introduction

.center[
<iframe width="570" height="320" src="https://www.youtube.com/embed/Fl4L4M8m4d0?ecver=1" frameborder="0" allowfullscreen></iframe>
]

* You have inherited a project from a previous student in the lab
* You need to organize it into a logical structure

---

## Bad project: Exercise

* [Download the data](https://github.com/riffomonas/bad_project/archive/v0.1.zip) to a new directory `~/Documents/bad_project`
* Using the recommended directory structure, move files to the appropriate folders
	* Remember that you can use `mv current_file directory/` to move `current_file` into `directory/`
  * Don't forget the `/` after `directory`

---

## General structure for a microbiome study

```
project
|- README.md        # the top level description of content (this doc)
|- CONTRIBUTING.md  # instructions for how to contribute to your project
|- LICENSE.md       # the license for this project
|- CITATION.md      # instructions on how to cite the project
|
|- submission/
| |- study.Rmd      # executable Rmarkdown for this study, if applicable
| |- study.md       # Markdown (GitHub) version of the *.Rmd file
| |- study.tex      # TeX version of *.Rmd file
| |- study.pdf      # PDF version of *.Rmd file
| |- header.tex     # LaTeX header file to format pdf version of manuscript
| |- references.bib # BibTeX formatted references
| |- XXXX.csl       # csl file to format references for journal XXX
|
|- data             # raw and primary data, are not changed once created
| |- references/    # reference files to be used in analysis
| |- raw/           # raw data, will not be altered
| |- mothur/        # mothur processed data
| +- process/       # cleaned data, will not be altered once created;
|                   # will be committed to repo
|
|- code/            # any code
|
|- results          # all output from workflows and analyses
| |- tables/        # text version of tables to be rendered with kable in R
| |- figures/       # graphs, likely designated for manuscript figures
| +- pictures/      # diagrams, images, and other non-graph graphics
|
|- exploratory/     # exploratory data analysis for study
| |- notebook/      # preliminary analyses
| +- scratch/       # temporary files that can be safely deleted or lost
|
+- Makefile         # executable Makefile for this study, if applicable
```

---

## Bad project: Evaluation

* Compare your results to your neighbor
* Once you are done, run `find . | diff - .solution` to compare your results to mine.
